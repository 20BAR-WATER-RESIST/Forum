@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";

    //IEnumerable<Models.Comment> numberOfPosts = from cat in Model.Categories
    //                                            from top in cat.Topics
    //                                            where top.CategoryID == 1
    //                                            from comm in top.Comments
    //                                            select comm;



}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>



<table class="table align-middle mb-0 bg-white">
    <thead class="bg-light">
        <tr>
            <th></th>
            <th>Tablica</th>
            <th>Wątków</th>
            <th>Postów</th>
            <th>Ostatni post</th>
        </tr>
    </thead>



    @foreach(var category in Model.Categories){
            <tbody>
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            <img src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                         alt=""
                         style="width: 45px; height: 45px"
                         class="rounded-circle" />
                            <div class="ms-3">
                                <p class="fw-bold mb-1"></p>
                                <p class="text-muted mb-0"></p>
                            </div>
                        </div>
                    </td>
                    <td>
                        <p class="fw-normal mb-1">@category.CategoryName</p>
                        <p class="text-muted mb-0">@category.CategoryDescription</p>
                    </td>
                    <td>
                        <p>@category.Topics.Count</p>
                    </td>
                    <td>
@{
                    IEnumerable<Models.Comment> numberOfPosts = from cat in Model.Categories
                        from top in cat.Topics
                        where top.CategoryID == category.CategoryID
                        from comm in top.Comments
                        select comm;
}
                    <p>@numberOfPosts.Count()</p>

                    </td>
                    <td>
                        <button type="button" class="btn btn-link btn-sm btn-rounded">
                            Edit
                        </button>
                    </td>
                </tr>
        </tbody>



}




@*domyślny kod tablicy -> do usunięcia na samym końcu
    <tbody>
        <tr>
            <td>
                <div class="d-flex align-items-center">
                    <img src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                         alt=""
                         style="width: 45px; height: 45px"
                         class="rounded-circle" />
                    <div class="ms-3">
                        <p class="fw-bold mb-1"></p>
                        <p class="text-muted mb-0"></p>
                    </div>
                </div>
            </td>
            <td>
                <p class="fw-normal mb-1">Software engineer</p>
                <p class="text-muted mb-0">IT department</p>
            </td>
            <td>
                <span class="badge badge-success rounded-pill d-inline">Active</span>
            </td>
            <td>Senior</td>
            <td>
                <button type="button" class="btn btn-link btn-sm btn-rounded">
                    Edit
                </button>
            </td>
        </tr>
    </tbody>
*@
</table>



